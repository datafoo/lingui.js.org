{"parents": [], "prev": {"link": "../setup-cra/", "title": "Setup with Create React App"}, "next": {"link": "../react/", "title": "Tutorial - Internationalization of React apps"}, "title": "Setup with React project", "meta": {}, "body": "<div class=\"section\" id=\"setup-with-react-project\">\n<h1>Setup with React project<a class=\"headerlink\" href=\"#setup-with-react-project\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"admonition important\">\n<p class=\"first admonition-title\">Important</p>\n<p class=\"last\">If you use Create React App, even ejected, follow <a class=\"reference internal\" href=\"../setup-cra/\"><span class=\"doc\">LinguiJS and Create React App</span></a>\nsetup guide.</p>\n</div>\n<p>This setup guide is for any project which uses React.</p>\n<div class=\"section\" id=\"install\">\n<h2>Install<a class=\"headerlink\" href=\"#install\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ol class=\"arabic\">\n<li><p class=\"first\">Install <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/cli</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/macro</span></code>, <cite>babel-plugin-macros</cite> and Babel core\npackages as a development dependencies and <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/react</span></code> as a runtime dependency.</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>npm install --save-dev @lingui/cli @babel/core babel-core@bridge\nnpm install --save-dev @lingui/macro babel-plugin-macro  <span class=\"c1\"># required for macros</span>\nnpm install --save @lingui/react\n\n<span class=\"c1\"># or using Yarn</span>\nyarn add --dev @lingui/cli @babel/core babel-core@bridge\nyarn add --dev @lingui/macro babel-plugin-macro  <span class=\"c1\"># required for macros</span>\nyarn add @lingui/react\n</pre></div>\n</div>\n<div class=\"admonition important\">\n<p class=\"first admonition-title\">Important</p>\n<p class=\"last\">Don\u2019t forget Babel packages (<code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;babel/core</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">babel-core&#64;bridge</span></code>) which are\nrequired for backward compatibility with projects using Babel 6.</p>\n</div>\n</li>\n<li><p class=\"first\">Add <code class=\"docutils literal notranslate\"><span class=\"pre\">macros</span></code> plugin to Babel config (e.g: <code class=\"docutils literal notranslate\"><span class=\"pre\">.babelrc</span></code>):</p>\n<div class=\"highlight-json notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;plugins&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">&quot;macros&quot;</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n<div class=\"admonition important\">\n<p class=\"first admonition-title\">Important</p>\n<p>If you use any preset, check first if it contains <code class=\"docutils literal notranslate\"><span class=\"pre\">macros</span></code> plugin.\nThese presets already includes <code class=\"docutils literal notranslate\"><span class=\"pre\">macros</span></code> plugin:</p>\n<ul class=\"last simple\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">react-scripts</span></code></li>\n</ul>\n</div>\n</li>\n<li><p class=\"first\">Create <code class=\"docutils literal notranslate\"><span class=\"pre\">.linguirc</span></code> file with LinguiJS configuration in root of your project (next\nto <code class=\"docutils literal notranslate\"><span class=\"pre\">package.json</span></code>). Replace <code class=\"docutils literal notranslate\"><span class=\"pre\">src</span></code> with a directory name where you have source files:</p>\n<div class=\"highlight-json notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">{</span>\n   <span class=\"nt\">&quot;localeDir&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;src/locales/&quot;</span><span class=\"p\">,</span>\n   <span class=\"nt\">&quot;srcPathDirs&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;src/&quot;</span><span class=\"p\">],</span>\n   <span class=\"nt\">&quot;format&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;po&quot;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n<p>PO format is recommended for message catalogs. See <a class=\"reference internal\" href=\"../../ref/conf/#std:config-format\"><code class=\"xref std std-conf docutils literal notranslate\"><span class=\"pre\">format</span></code></a> documentation for other\navailable formats.</p>\n</li>\n<li><p class=\"first\">Add following scripts to your <code class=\"docutils literal notranslate\"><span class=\"pre\">package.json</span></code>:</p>\n<div class=\"highlight-json notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">{</span>\n   <span class=\"nt\">&quot;scripts&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;add-locale&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;lingui add-locale&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;extract&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;lingui extract&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;compile&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;lingui compile&quot;</span><span class=\"p\">,</span>\n   <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Run <code class=\"docutils literal notranslate\"><span class=\"pre\">npm</span> <span class=\"pre\">run</span> <span class=\"pre\">add-locale</span></code> (or <code class=\"docutils literal notranslate\"><span class=\"pre\">yarn</span> <span class=\"pre\">add-locale</span></code>) with\n<a class=\"reference external\" href=\"https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\">locale codes</a>\nyou would like to use in your app:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>npm run add-locale en es fr  <span class=\"c1\"># Add English, Spanish and French locale</span>\n\n<span class=\"c1\"># or using Yarn</span>\nyarn add-locale en es fr\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Check the installation by running <code class=\"docutils literal notranslate\"><span class=\"pre\">npm</span> <span class=\"pre\">run</span> <span class=\"pre\">extract</span></code> (or <code class=\"docutils literal notranslate\"><span class=\"pre\">yarn</span> <span class=\"pre\">extract</span></code>):</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>npm run extract\n\n<span class=\"c1\"># or using Yarn</span>\nyarn extract\n</pre></div>\n</div>\n<p>There should be no error and you should see output similar following:</p>\n<div class=\"highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>&gt; npm run extract\n\nCatalog statistics:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Language \u2502 Total count \u2502 Missing \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 cs       \u2502     0       \u2502   0     \u2502\n\u2502 en       \u2502     0       \u2502   0     \u2502\n\u2502 fr       \u2502     0       \u2502   0     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n(use &quot;lingui add-locale &lt;language&gt;&quot; to add more locales)\n(use &quot;lingui extract&quot; to update catalogs with new messages)\n(use &quot;lingui compile&quot; to compile catalogs for production)\n</pre></div>\n</div>\n</li>\n</ol>\n<p>Congratulations! You\u2019ve sucessfully set up project with LinguiJS.\nNow it\u2019s good time to follow <a class=\"reference internal\" href=\"../react/\"><span class=\"doc\">React tutorial</span></a>\nor read about <a class=\"reference internal\" href=\"../../ref/message-format/\"><span class=\"doc\">ICU Message Format</span></a> which\nis used in messages.</p>\n</div>\n<div class=\"section\" id=\"further-reading\">\n<h2>Further reading<a class=\"headerlink\" href=\"#further-reading\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Checkout these reference guides for full documentation:</p>\n<ul class=\"simple\">\n<li><a class=\"reference internal\" href=\"../../ref/message-format/\"><span class=\"doc\">ICU Message Format</span></a></li>\n<li><a class=\"reference internal\" href=\"../../ref/macro/\"><span class=\"doc\">React reference</span></a></li>\n<li><a class=\"reference internal\" href=\"../../ref/react/\"><span class=\"doc\">Macro reference</span></a></li>\n<li><a class=\"reference internal\" href=\"../../ref/cli/\"><span class=\"doc\">CLI reference</span></a></li>\n<li><a class=\"reference internal\" href=\"../../ref/conf/\"><span class=\"doc\">Configuration reference</span></a></li>\n</ul>\n</div>\n<div class=\"section\" id=\"troubleshooting\">\n<h2>Troubleshooting<a class=\"headerlink\" href=\"#troubleshooting\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"cannot-find-module-babel-core\">\n<h3>Cannot find module \u2018babel-core\u2019<a class=\"headerlink\" href=\"#cannot-find-module-babel-core\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><ol class=\"arabic simple\">\n<li>Check that you installed <code class=\"docutils literal notranslate\"><span class=\"pre\">babel-core&#64;bridge</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;babel/core</span></code> (step 2)</li>\n<li>Check that you use local version of <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/cli</span></code>. Installing <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/cli</span></code>\nglobally may clash with other packages which use Babel 6. You should run\neither <code class=\"docutils literal notranslate\"><span class=\"pre\">npm</span> <span class=\"pre\">run</span> <span class=\"pre\">extract</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">yarn</span> <span class=\"pre\">extract</span></code> (step 5).</li>\n</ol>\n</div></blockquote>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["tutorials/react", "Tutorial - Internationalization of React apps", "N", "next"], ["tutorials/setup-cra", "Setup with Create React App", "P", "previous"]], "sourcename": "tutorials/setup-react.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Setup with React project</a><ul>\n<li><a class=\"reference internal\" href=\"#install\">Install</a></li>\n<li><a class=\"reference internal\" href=\"#further-reading\">Further reading</a></li>\n<li><a class=\"reference internal\" href=\"#troubleshooting\">Troubleshooting</a><ul>\n<li><a class=\"reference internal\" href=\"#cannot-find-module-babel-core\">Cannot find module \u2018babel-core\u2019</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "tutorials/setup-react", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.11", "display_github": true, "github_user": "lingui", "github_version": "master/", "github_repo": "js-lingui", "conf_py_path": "docs/"}