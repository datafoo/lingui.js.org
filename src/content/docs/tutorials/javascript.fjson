{"parents": [], "prev": {"link": "../react-native/", "title": "Tutorial - Internationalization of React Native apps"}, "next": {"link": "../cli/", "title": "Working with LinguiJS CLI"}, "title": "Tutorial - Internationalization of JavaScript apps", "meta": {}, "body": "<div class=\"section\" id=\"tutorial-internationalization-of-javascript-apps\">\n<span id=\"js-tutorial-label\"></span><h1>Tutorial - Internationalization of JavaScript apps<a class=\"headerlink\" href=\"#tutorial-internationalization-of-javascript-apps\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"admonition warning\">\n<p class=\"first admonition-title\">Warning</p>\n<p class=\"last\">This is a draft of tutorial. Feel free to send a PR if you want to contribute.</p>\n</div>\n<p>In this tutorial, we\u2019ll learn how to use LinguiJS\u2019s internationalization features that\ndo not depend on React. We\u2019ll take a minimalist approach and cover the main functions\nfrom the <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/core</span></code> package.</p>\n<div class=\"section\" id=\"installing-linguijs\">\n<h2>Installing LinguiJS<a class=\"headerlink\" href=\"#installing-linguijs\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p><a class=\"reference external\" href=\"https://github.com/lingui/js-lingui\">LinguiJS</a> isn\u2019t just a package. It\u2019s a set of tools which helps you to\ninternationalize. You can pick whichever tool you want to use in your project.\nWe\u2019re trying to use most of them to show the full power of LinguiJS.</p>\n<p>Let\u2019s start with the three major packages:</p>\n<dl class=\"docutils\">\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/cli</span></code></dt>\n<dd>CLI for i18n management and working with message catalogs</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/core</span></code></dt>\n<dd>The core library responsible for translation and handling of message catalogs</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/macro</span></code></dt>\n<dd>Transforms messages wrapped in tagged template literals to ICU\nMessageFormat and validates them.</dd>\n</dl>\n<ol class=\"arabic\">\n<li><p class=\"first\">Install <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/cli</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/macro</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">babel-plugin-macros</span></code> and Babel core\npackages as a development dependencies and <code class=\"docutils literal notranslate\"><span class=\"pre\">&#64;lingui/core</span></code> as a runtime dependency:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>npm install --save-dev @lingui/cli @lingui/macro babel-plugin-macros\nnpm install --save @lingui/core\n\n<span class=\"c1\"># If you use Babel 7:</span>\nnpm install --save-dev babel-core@bridge @babel/core\n\n<span class=\"c1\"># If you use Babel 6:</span>\nnpm install --save-dev babel-core\n</pre></div>\n</div>\n<p>If you use Yarn, add following:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>yarn add --dev @lingui/cli @lingui/macro babel-plugin-macros\nyarn add @lingui/core\n\n<span class=\"c1\"># If you use Babel 7:</span>\nyarn add --dev babel-core@bridge @babel/core\n\n<span class=\"c1\"># If you use Babel 6:</span>\nyarn add --dev babel-core\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Add <code class=\"docutils literal notranslate\"><span class=\"pre\">macro</span></code> plugin to Babel config (e.g: <code class=\"docutils literal notranslate\"><span class=\"pre\">.babelrc</span></code>):</p>\n<div class=\"highlight-json notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;plugins&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">&quot;macro&quot;</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</li>\n</ol>\n<p>Now we have the environment up and running and we can start internationalizing our app!</p>\n</div>\n<div class=\"section\" id=\"setting-up-i18n\">\n<h2>Setting up i18n<a class=\"headerlink\" href=\"#setting-up-i18n\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>First we need to setup the i18n object, which is pretty simple:</p>\n<div class=\"highlight-js notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kr\">import</span> <span class=\"p\">{</span> <span class=\"nx\">setupI18n</span> <span class=\"p\">}</span> <span class=\"nx\">from</span> <span class=\"s1\">&#39;@lingui/core&#39;</span>\n\n<span class=\"c1\">// messages.js is generated by the cli</span>\n<span class=\"kr\">import</span> <span class=\"nx\">englishMessages</span> <span class=\"nx\">from</span> <span class=\"s1\">&#39;path-to-locale/en/messages.js&#39;</span><span class=\"p\">;</span>\n\n\n<span class=\"c1\">// setup the i18n object with active language and catalogs</span>\n<span class=\"kd\">let</span> <span class=\"nx\">i18n</span> <span class=\"o\">=</span> <span class=\"nx\">setupI18n</span><span class=\"p\">({</span>\n  <span class=\"nx\">language</span><span class=\"o\">:</span> <span class=\"s1\">&#39;en&#39;</span><span class=\"p\">,</span>\n  <span class=\"nx\">catalogs</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"nx\">en</span><span class=\"o\">:</span> <span class=\"nx\">englishMessages</span><span class=\"p\">,</span>\n  <span class=\"p\">},</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"localizing-your-app\">\n<h2>Localizing your app<a class=\"headerlink\" href=\"#localizing-your-app\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Once that is done, we can go ahead and use it! Wrap you text in <a class=\"reference internal\" href=\"../../ref/macro/#jsmacro-t\">t</a> macro\nand pass it to <code class=\"xref js js-meth docutils literal notranslate\"><span class=\"pre\">i18n._()</span></code> method:</p>\n<div class=\"highlight-js notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kr\">import</span> <span class=\"p\">{</span> <span class=\"nx\">t</span> <span class=\"p\">}</span> <span class=\"nx\">from</span> <span class=\"s2\">&quot;@lingui/macro&quot;</span>\n\n<span class=\"nx\">i18n</span><span class=\"p\">.</span><span class=\"nx\">_</span><span class=\"p\">(</span><span class=\"nx\">t</span><span class=\"sb\">`Hello World!`</span><span class=\"p\">)</span>\n<span class=\"c1\">// becomes &quot;Salut le monde!&quot;</span>\n\n<span class=\"kr\">const</span> <span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;Fred&quot;</span>\n<span class=\"nx\">i18n</span><span class=\"p\">.</span><span class=\"nx\">_</span><span class=\"p\">(</span><span class=\"nx\">t</span><span class=\"sb\">`My name is </span><span class=\"si\">${</span> <span class=\"nx\">name</span> <span class=\"si\">}</span><span class=\"sb\">`</span><span class=\"p\">)</span>\n<span class=\"c1\">// becomes &quot;Je m&#39;appelle Fred&quot;</span>\n</pre></div>\n</div>\n<p>Plurals and selections are possible using plural and select methods:</p>\n<div class=\"highlight-js notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kr\">import</span> <span class=\"p\">{</span> <span class=\"nx\">plural</span> <span class=\"p\">}</span> <span class=\"nx\">from</span> <span class=\"s2\">&quot;@lingui/macro&quot;</span>\n\n<span class=\"kr\">const</span> <span class=\"nx\">count</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>\n\n<span class=\"nx\">i18n</span><span class=\"p\">.</span><span class=\"nx\">_</span><span class=\"p\">(</span><span class=\"nx\">plural</span><span class=\"p\">({</span>\n  <span class=\"nx\">value</span><span class=\"o\">:</span> <span class=\"nx\">count</span><span class=\"p\">,</span>\n  <span class=\"nx\">one</span><span class=\"o\">:</span> <span class=\"s2\">&quot;# book&quot;</span><span class=\"p\">,</span>\n  <span class=\"nx\">other</span><span class=\"o\">:</span> <span class=\"s2\">&quot;# books&quot;</span>\n<span class=\"p\">}))</span>\n<span class=\"c1\">// becomes &quot;42 livres&quot;</span>\n</pre></div>\n</div>\n<p>It\u2019s also possible to nest message formats. Each message format method in i18n has a standalone companion, which only returns message without performing the translation:</p>\n<div class=\"highlight-js notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kr\">import</span> <span class=\"p\">{</span> <span class=\"nx\">t</span><span class=\"p\">,</span> <span class=\"nx\">select</span><span class=\"p\">,</span> <span class=\"nx\">plural</span> <span class=\"p\">}</span> <span class=\"nx\">from</span> <span class=\"s2\">&quot;@lingui/macro&quot;</span>\n\n<span class=\"nx\">i18n</span><span class=\"p\">.</span><span class=\"nx\">_</span><span class=\"p\">(</span><span class=\"nx\">select</span><span class=\"p\">({</span>\n  <span class=\"nx\">value</span><span class=\"o\">:</span> <span class=\"nx\">gender</span><span class=\"p\">,</span>\n  <span class=\"nx\">offset</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n  <span class=\"nx\">female</span><span class=\"o\">:</span> <span class=\"nx\">plural</span><span class=\"p\">({</span>\n    <span class=\"nx\">value</span><span class=\"o\">:</span> <span class=\"nx\">numOfGuests</span><span class=\"p\">,</span>\n    <span class=\"nx\">offset</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n    <span class=\"mi\">0</span><span class=\"o\">:</span> <span class=\"nx\">t</span><span class=\"sb\">`</span><span class=\"si\">${</span><span class=\"nx\">host</span><span class=\"si\">}</span><span class=\"sb\"> does not give a party.`</span><span class=\"p\">,</span>\n    <span class=\"mi\">1</span><span class=\"o\">:</span> <span class=\"nx\">t</span><span class=\"sb\">`</span><span class=\"si\">${</span><span class=\"nx\">host</span><span class=\"si\">}</span><span class=\"sb\"> invites </span><span class=\"si\">${</span><span class=\"nx\">guest</span><span class=\"si\">}</span><span class=\"sb\"> to her party.`</span><span class=\"p\">,</span>\n    <span class=\"mi\">2</span><span class=\"o\">:</span> <span class=\"nx\">t</span><span class=\"sb\">`</span><span class=\"si\">${</span><span class=\"nx\">host</span><span class=\"si\">}</span><span class=\"sb\"> invites </span><span class=\"si\">${</span><span class=\"nx\">guest</span><span class=\"si\">}</span><span class=\"sb\"> and one other person to her party.`</span><span class=\"p\">,</span>\n    <span class=\"nx\">other</span><span class=\"o\">:</span> <span class=\"nx\">t</span><span class=\"sb\">`</span><span class=\"si\">${</span><span class=\"nx\">host</span><span class=\"si\">}</span><span class=\"sb\"> invites </span><span class=\"si\">${</span><span class=\"nx\">guest</span><span class=\"si\">}</span><span class=\"sb\"> and # other people to her party.`</span>\n  <span class=\"p\">}),</span>\n  <span class=\"nx\">male</span><span class=\"o\">:</span> <span class=\"nx\">plural</span><span class=\"p\">({...}),</span>\n  <span class=\"nx\">other</span><span class=\"o\">:</span> <span class=\"nx\">plural</span><span class=\"p\">({...}),</span>\n<span class=\"p\">}))</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"further-reading\">\n<h2>Further reading<a class=\"headerlink\" href=\"#further-reading\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ul class=\"simple\">\n<li><a class=\"reference external\" href=\"../ref/cli.html\">&#64;lingui/cli reference documentation</a></li>\n<li><a class=\"reference external\" href=\"../guides/plurals.html\">Pluralization Guide</a></li>\n</ul>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["tutorials/cli", "Working with LinguiJS CLI", "N", "next"], ["tutorials/react-native", "Tutorial - Internationalization of React Native apps", "P", "previous"]], "sourcename": "tutorials/javascript.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Tutorial - Internationalization of JavaScript apps</a><ul>\n<li><a class=\"reference internal\" href=\"#installing-linguijs\">Installing LinguiJS</a></li>\n<li><a class=\"reference internal\" href=\"#setting-up-i18n\">Setting up i18n</a></li>\n<li><a class=\"reference internal\" href=\"#localizing-your-app\">Localizing your app</a></li>\n<li><a class=\"reference internal\" href=\"#further-reading\">Further reading</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "tutorials/javascript", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.11", "display_github": true, "github_user": "lingui", "github_version": "master/", "github_repo": "js-lingui", "conf_py_path": "docs/"}